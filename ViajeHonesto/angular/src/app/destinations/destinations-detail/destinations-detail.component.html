<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-3">
    <!-- Título Principal -->
    <div>
      <h1 class="display-5 fw-bold mb-0 text-dark">{{ destination?.name }}</h1>
      <span class="badge rounded-pill bg-primary mt-2">
        <i class="fas fa-flag me-1"></i> {{ destination?.country }}
      </span>
    </div>

    <!-- Botones -->
    <div class="d-flex gap-2">
      <button class="btn btn-outline-secondary" (click)="goBack()">
        <i class="fas fa-arrow-left"></i> {{ '::Back' | abpLocalization }}
      </button>
      <!-- TODO: Verificar si está en la Watchlist (falta lógica back) -->
      <button class="btn" [ngClass]="true ? 'btn-danger' : 'btn-outline-danger'">
        <i class="fas" [ngClass]="true ? 'fa-trash' : 'fa-heart'"></i>
        <span class="ms-2 d-none d-md-inline">
          {{
            (destination?.isSaved
              ? '::Destinations::RemoveFromWatchlist'
              : '::Destinations::AddToWatchlist'
            ) | abpLocalization
          }}
        </span>
      </button>
    </div>
  </div>

  <div class="row g-4">
    <!-- Columna principal -->
    <div class="col-lg-8 order-2 order-lg-1">
      <!-- Mapa -->
      <div class="card border-0 shadow-sm mb-5">
        <div class="card-body p-0">
          <div class="ratio ratio-21x9 bg-light rounded overflow-hidden border">
            <iframe
              title="{{ '::Destinations:MapTitle' | abpLocalization }}"
              loading="lazy"
            ></iframe>
          </div>
        </div>
        <div
          class="card-footer bg-white border-top-0 d-flex justify-content-between align-items-center py-2"
        >
          <small class="text-muted"
            ><i class="fas fa-map-marked-alt me-1"></i>
            {{ '::Destinations:ExactLocation' | abpLocalization }}</small
          >
          <a target="_blank" class="btn btn-link btn-sm text-decoration-none">
            {{ '::Destinations:OpenGoogleMaps' | abpLocalization }}
            <i class="fas fa-external-link-alt ms-1"></i>
          </a>
        </div>
      </div>

      <!-- Sección de reviews -->
      <!-- TODO -->
    </div>

    <!-- Barra lateral -->
    <div class="col-lg-4 order-1 order-lg-2">
      <!-- Ficha -->
      <div class="card border shadow-sm sticky-top">
        <div class="card-header bg-white fw-bold py-3 border-bottom">
          {{ '::Destinations:Summary' | abpLocalization }}
        </div>

        <div class="card-body p-0">
          <ul class="list-group list-group-flush">
            <!-- Población -->
            <li class="list-group-item py-3">
              <div class="d-flex align-items-center">
                <div class="bg-primary bg-opacity-10 text-primary rounded p-2 me-3">
                  <i class="fas fa-users fa-lg"></i>
                </div>
                <div>
                  <small class="text-muted text-uppercase d-block">{{
                    '::Destinations:Population' | abpLocalization
                  }}</small>
                  <span class="fs-5 fw-bold text-dark">{{ destination?.population | number }}</span>
                </div>
              </div>
            </li>

            <!-- Región -->
            <li class="list-group-item py-3">
              <div class="d-flex align-items-center">
                <div class="bg-warning bg-opacity-10 text-warning rounded p-2 me-3">
                  <i class="fas fa-globe-americas fa-lg"></i>
                </div>
                <div>
                  <small class="text-muted text-uppercase d-block">{{
                    '::Destinations:Region' | abpLocalization
                  }}</small>
                  <span class="fw-medium text-dark">{{ destination?.region }}</span>
                </div>
              </div>
            </li>

            <!-- Wikidata -->
            <li class="list-group-item py-3">
              <div class="d-grid">
                <a
                  [href]="'https://www.wikidata.org/wiki/' + request.wikiDataId"
                  target="_blank"
                  class="btn btn-light border text-start"
                >
                  <i class="fas fa-database me-2 text-secondary"></i>
                  {{ '::Destinations:ReadOnWikidata' | abpLocalization }}
                </a>
              </div>
            </li>
          </ul>
        </div>

        <!-- Coordenadas discretas en el footer -->
        <div class="card-footer bg-light text-center py-2">
          <small class="text-muted font-monospace">
            LAT: {{ destination?.coordinate?.latitude | number: '1.2-2' }} | LNG:
            {{ destination?.coordinate?.longitude | number: '1.2-2' }}
          </small>
        </div>
      </div>
    </div>
  </div>
</div>
